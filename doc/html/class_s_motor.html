<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>Easy CNC: SMotor Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Easy CNC
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="class_s_motor-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">SMotor Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Multi Stepper Motor Control Class.  
 <a href="class_s_motor.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_s_motor_8h_source.html">SMotor.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a29d1d10288f83e41d200e3623541a351"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_motor.html#a29d1d10288f83e41d200e3623541a351">SMotor</a> ()</td></tr>
<tr class="memdesc:a29d1d10288f83e41d200e3623541a351"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor.  <a href="#a29d1d10288f83e41d200e3623541a351">More...</a><br /></td></tr>
<tr class="separator:a29d1d10288f83e41d200e3623541a351"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a01eb70ccd1c4e82e0cabcd574a0aad"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_motor.html#a5a01eb70ccd1c4e82e0cabcd574a0aad">SMotor</a> (uint8_t pin1, uint8_t pin2, uint8_t pin3, uint8_t pin4)</td></tr>
<tr class="memdesc:a5a01eb70ccd1c4e82e0cabcd574a0aad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#a5a01eb70ccd1c4e82e0cabcd574a0aad">More...</a><br /></td></tr>
<tr class="separator:a5a01eb70ccd1c4e82e0cabcd574a0aad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae266c2af254d76012b8132bb7641628d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_motor.html#ae266c2af254d76012b8132bb7641628d">forward</a> (uint32_t st, uint32_t sp)</td></tr>
<tr class="memdesc:ae266c2af254d76012b8132bb7641628d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure the motor to move forward.  <a href="#ae266c2af254d76012b8132bb7641628d">More...</a><br /></td></tr>
<tr class="separator:ae266c2af254d76012b8132bb7641628d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d666d613dffcc324e0ae6e1e0a31a3f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_motor.html#a9d666d613dffcc324e0ae6e1e0a31a3f">backward</a> (uint32_t, uint32_t)</td></tr>
<tr class="memdesc:a9d666d613dffcc324e0ae6e1e0a31a3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure the motor to move backward.  <a href="#a9d666d613dffcc324e0ae6e1e0a31a3f">More...</a><br /></td></tr>
<tr class="separator:a9d666d613dffcc324e0ae6e1e0a31a3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab96b926a7df0a17fdc22946f9aa12fde"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_motor.html#ab96b926a7df0a17fdc22946f9aa12fde">setFullStep</a> ()</td></tr>
<tr class="memdesc:ab96b926a7df0a17fdc22946f9aa12fde"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set up the full step control mode.  <a href="#ab96b926a7df0a17fdc22946f9aa12fde">More...</a><br /></td></tr>
<tr class="separator:ab96b926a7df0a17fdc22946f9aa12fde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c4101303e66c321fbaf0f7969906910"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_motor.html#a1c4101303e66c321fbaf0f7969906910">setHalfStep</a> ()</td></tr>
<tr class="memdesc:a1c4101303e66c321fbaf0f7969906910"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set up the half step control mode.  <a href="#a1c4101303e66c321fbaf0f7969906910">More...</a><br /></td></tr>
<tr class="separator:a1c4101303e66c321fbaf0f7969906910"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d76c875ebc8686bf6d1bc70aba7b652"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_motor.html#a9d76c875ebc8686bf6d1bc70aba7b652">setPins</a> (uint8_t pin1, uint8_t pin2, uint8_t pin3, uint8_t pin4)</td></tr>
<tr class="memdesc:a9d76c875ebc8686bf6d1bc70aba7b652"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change the pin mapping.  <a href="#a9d76c875ebc8686bf6d1bc70aba7b652">More...</a><br /></td></tr>
<tr class="separator:a9d76c875ebc8686bf6d1bc70aba7b652"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af87213cf4f416f8182a299e193c28fdc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_motor.html#af87213cf4f416f8182a299e193c28fdc">speed</a> (uint32_t sp)</td></tr>
<tr class="memdesc:af87213cf4f416f8182a299e193c28fdc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change the delay between each step.  <a href="#af87213cf4f416f8182a299e193c28fdc">More...</a><br /></td></tr>
<tr class="separator:af87213cf4f416f8182a299e193c28fdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc966d69cfe8f90a0c640e1e24f7b2c6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_motor.html#afc966d69cfe8f90a0c640e1e24f7b2c6">stop</a> ()</td></tr>
<tr class="memdesc:afc966d69cfe8f90a0c640e1e24f7b2c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop any motion.  <a href="#afc966d69cfe8f90a0c640e1e24f7b2c6">More...</a><br /></td></tr>
<tr class="separator:afc966d69cfe8f90a0c640e1e24f7b2c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4aee8957f93b071ea7772e5d2c766500"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_motor.html#a4aee8957f93b071ea7772e5d2c766500">update</a> ()</td></tr>
<tr class="memdesc:a4aee8957f93b071ea7772e5d2c766500"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform the motion of the motor.  <a href="#a4aee8957f93b071ea7772e5d2c766500">More...</a><br /></td></tr>
<tr class="separator:a4aee8957f93b071ea7772e5d2c766500"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70f9d62a3979a923b1e7c90deae30853"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_motor.html#a70f9d62a3979a923b1e7c90deae30853">print</a> ()</td></tr>
<tr class="memdesc:a70f9d62a3979a923b1e7c90deae30853"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print in the serial channel the state of all inner variables.  <a href="#a70f9d62a3979a923b1e7c90deae30853">More...</a><br /></td></tr>
<tr class="separator:a70f9d62a3979a923b1e7c90deae30853"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:ad8a2e38a5f28bc482c26fc0865a1a421"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_motor.html#ad8a2e38a5f28bc482c26fc0865a1a421">forward_one</a> ()</td></tr>
<tr class="memdesc:ad8a2e38a5f28bc482c26fc0865a1a421"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move the motor forward of one step.  <a href="#ad8a2e38a5f28bc482c26fc0865a1a421">More...</a><br /></td></tr>
<tr class="separator:ad8a2e38a5f28bc482c26fc0865a1a421"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa943e06297be50ff2eee785f11a57994"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_motor.html#aa943e06297be50ff2eee785f11a57994">backward_one</a> ()</td></tr>
<tr class="memdesc:aa943e06297be50ff2eee785f11a57994"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move the motor backward of one step.  <a href="#aa943e06297be50ff2eee785f11a57994">More...</a><br /></td></tr>
<tr class="separator:aa943e06297be50ff2eee785f11a57994"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81c0aec48f08077b5b42fe03034e4f19"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_motor.html#a81c0aec48f08077b5b42fe03034e4f19">coilsOff</a> ()</td></tr>
<tr class="memdesc:a81c0aec48f08077b5b42fe03034e4f19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Turn off all coils of the motor.  <a href="#a81c0aec48f08077b5b42fe03034e4f19">More...</a><br /></td></tr>
<tr class="separator:a81c0aec48f08077b5b42fe03034e4f19"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a2c60b5c8fe692572070fdc95c6b4b51e"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_motor.html#a2c60b5c8fe692572070fdc95c6b4b51e">p1</a></td></tr>
<tr class="separator:a2c60b5c8fe692572070fdc95c6b4b51e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a305bd59966c6596b977c2897cf6f3ee1"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_motor.html#a305bd59966c6596b977c2897cf6f3ee1">p2</a></td></tr>
<tr class="separator:a305bd59966c6596b977c2897cf6f3ee1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ed385362a1d5701bb4f1a922838c986"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_motor.html#a2ed385362a1d5701bb4f1a922838c986">p3</a></td></tr>
<tr class="separator:a2ed385362a1d5701bb4f1a922838c986"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9eeaaa8a47f74a6f2972650afa76d02f"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_motor.html#a9eeaaa8a47f74a6f2972650afa76d02f">p4</a></td></tr>
<tr class="memdesc:a9eeaaa8a47f74a6f2972650afa76d02f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pins where is mapped the coils of the unipolar motor.  <a href="#a9eeaaa8a47f74a6f2972650afa76d02f">More...</a><br /></td></tr>
<tr class="separator:a9eeaaa8a47f74a6f2972650afa76d02f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a882d15d35626b66d6bb31a09c17b75b6"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_motor.html#a882d15d35626b66d6bb31a09c17b75b6">spd</a></td></tr>
<tr class="memdesc:a882d15d35626b66d6bb31a09c17b75b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">The delay between two steps in microseconds.  <a href="#a882d15d35626b66d6bb31a09c17b75b6">More...</a><br /></td></tr>
<tr class="separator:a882d15d35626b66d6bb31a09c17b75b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a894a18a9c90ea2160d5790934491f346"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_motor.html#a894a18a9c90ea2160d5790934491f346">steps</a></td></tr>
<tr class="memdesc:a894a18a9c90ea2160d5790934491f346"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of steps until the motion ends.  <a href="#a894a18a9c90ea2160d5790934491f346">More...</a><br /></td></tr>
<tr class="separator:a894a18a9c90ea2160d5790934491f346"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acba02a638986e8e3e44302d824941692"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_motor.html#acba02a638986e8e3e44302d824941692">tot_steps</a></td></tr>
<tr class="memdesc:acba02a638986e8e3e44302d824941692"><td class="mdescLeft">&#160;</td><td class="mdescRight">The total steps setted by <a class="el" href="class_s_motor.html#ae266c2af254d76012b8132bb7641628d" title="Configure the motor to move forward. ">forward()</a> and <a class="el" href="class_s_motor.html#a9d666d613dffcc324e0ae6e1e0a31a3f" title="Configure the motor to move backward. ">backward()</a>.  <a href="#acba02a638986e8e3e44302d824941692">More...</a><br /></td></tr>
<tr class="separator:acba02a638986e8e3e44302d824941692"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1327bd40d192a2fd84ab885a2b197bb"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_motor.html#ae1327bd40d192a2fd84ab885a2b197bb">old_time</a></td></tr>
<tr class="memdesc:ae1327bd40d192a2fd84ab885a2b197bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">The time value in microseconds setted during the last step.  <a href="#ae1327bd40d192a2fd84ab885a2b197bb">More...</a><br /></td></tr>
<tr class="separator:ae1327bd40d192a2fd84ab885a2b197bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a994ea15ba154ccf166cdfefebae493bd"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_motor.html#a994ea15ba154ccf166cdfefebae493bd">pos</a></td></tr>
<tr class="memdesc:a994ea15ba154ccf166cdfefebae493bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">A value among 0, 1, 2, 3 if the full step control is active, otherwise the value is one among 0, 1, 2, 3, ,4 ,5 ,6 7.  <a href="#a994ea15ba154ccf166cdfefebae493bd">More...</a><br /></td></tr>
<tr class="separator:a994ea15ba154ccf166cdfefebae493bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5bca9af6abc32a4c501ab8791c9b044"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_motor.html#ad5bca9af6abc32a4c501ab8791c9b044">dir</a></td></tr>
<tr class="memdesc:ad5bca9af6abc32a4c501ab8791c9b044"><td class="mdescLeft">&#160;</td><td class="mdescRight">Specifi the direction of the motor: -1 backward, 1 forward, 0 all pin out LOW.  <a href="#ad5bca9af6abc32a4c501ab8791c9b044">More...</a><br /></td></tr>
<tr class="separator:ad5bca9af6abc32a4c501ab8791c9b044"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91a0e1b7858e925219aef3f01581a6df"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_motor.html#a91a0e1b7858e925219aef3f01581a6df">full_step</a></td></tr>
<tr class="memdesc:a91a0e1b7858e925219aef3f01581a6df"><td class="mdescLeft">&#160;</td><td class="mdescRight">True if the class uses a full step control, false if it is half step control.  <a href="#a91a0e1b7858e925219aef3f01581a6df">More...</a><br /></td></tr>
<tr class="separator:a91a0e1b7858e925219aef3f01581a6df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a387fdb2f979f0a98629f60e6d39e88eb"><td class="memItemLeft" align="right" valign="top">boolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_s_motor.html#a387fdb2f979f0a98629f60e6d39e88eb">m_ready</a></td></tr>
<tr class="memdesc:a387fdb2f979f0a98629f60e6d39e88eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">True if the motor is ready to take a new command: <a class="el" href="class_s_motor.html#ae266c2af254d76012b8132bb7641628d" title="Configure the motor to move forward. ">forward()</a> or <a class="el" href="class_s_motor.html#a9d666d613dffcc324e0ae6e1e0a31a3f" title="Configure the motor to move backward. ">backward()</a>.  <a href="#a387fdb2f979f0a98629f60e6d39e88eb">More...</a><br /></td></tr>
<tr class="separator:a387fdb2f979f0a98629f60e6d39e88eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Multi Stepper Motor Control Class. </p>
<p>The class allows the contemporary control of multi stepper motors. After the motor setup, you can drive the motor forward and backward, specifying the number of steps and the delay in microseconds between two consecutive steps. The function update performs the effective motor motion, it must be call in the main loop and, if the delay is expired, the function moves the motor of one step. </p><dl class="section author"><dt>Author</dt><dd>Francesco Giurlanda </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a29d1d10288f83e41d200e3623541a351"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SMotor::SMotor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default constructor. </p>

</div>
</div>
<a class="anchor" id="a5a01eb70ccd1c4e82e0cabcd574a0aad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SMotor::SMotor </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>pin1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>pin2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>pin3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>pin4</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>
<p>Setup the pins where are attached the four coils of the unipolar motor. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pin1</td><td>the pin connected to the coil 1a </td></tr>
    <tr><td class="paramname">pin2</td><td>the pin connected to the coil 2a </td></tr>
    <tr><td class="paramname">pin3</td><td>the pin connected to the coil 1b </td></tr>
    <tr><td class="paramname">pin4</td><td>the pin connected to the coil 2b </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a9d666d613dffcc324e0ae6e1e0a31a3f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SMotor::backward </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>st</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>sp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure the motor to move backward. </p>
<p>The function moves backward the motor of a number of steps with a specified delay betweet each step </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">st</td><td>the number of steps </td></tr>
    <tr><td class="paramname">sp</td><td>the delay between the steps in microseconds </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_s_motor.html#ae266c2af254d76012b8132bb7641628d" title="Configure the motor to move forward. ">forward(uint32_t, uint32_t)</a> </dd></dl>

</div>
</div>
<a class="anchor" id="aa943e06297be50ff2eee785f11a57994"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SMotor::backward_one </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Move the motor backward of one step. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_s_motor.html#ad8a2e38a5f28bc482c26fc0865a1a421" title="Move the motor forward of one step. ">forward_one()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a81c0aec48f08077b5b42fe03034e4f19"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SMotor::coilsOff </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Turn off all coils of the motor. </p>

</div>
</div>
<a class="anchor" id="ae266c2af254d76012b8132bb7641628d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SMotor::forward </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>st</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>sp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure the motor to move forward. </p>
<p>The function moves forward the motor of a number of steps with a specified delay betweet each step </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">st</td><td>the number of steps </td></tr>
    <tr><td class="paramname">sp</td><td>the delay between the steps in microseconds </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_s_motor.html#a9d666d613dffcc324e0ae6e1e0a31a3f" title="Configure the motor to move backward. ">backward(uint32_t, uint32_t)</a> </dd></dl>

</div>
</div>
<a class="anchor" id="ad8a2e38a5f28bc482c26fc0865a1a421"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void SMotor::forward_one </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Move the motor forward of one step. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_s_motor.html#aa943e06297be50ff2eee785f11a57994" title="Move the motor backward of one step. ">backward_one()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a70f9d62a3979a923b1e7c90deae30853"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SMotor::print </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print in the serial channel the state of all inner variables. </p>

</div>
</div>
<a class="anchor" id="ab96b926a7df0a17fdc22946f9aa12fde"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SMotor::setFullStep </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set up the full step control mode. </p>

</div>
</div>
<a class="anchor" id="a1c4101303e66c321fbaf0f7969906910"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SMotor::setHalfStep </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set up the half step control mode. </p>

</div>
</div>
<a class="anchor" id="a9d76c875ebc8686bf6d1bc70aba7b652"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SMotor::setPins </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>pin1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>pin2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>pin3</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>pin4</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Change the pin mapping. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pin1</td><td>the pin connected to the coil 1a </td></tr>
    <tr><td class="paramname">pin2</td><td>the pin connected to the coil 2a </td></tr>
    <tr><td class="paramname">pin3</td><td>the pin connected to the coil 1b </td></tr>
    <tr><td class="paramname">pin4</td><td>the pin connected to the coil 2b </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af87213cf4f416f8182a299e193c28fdc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SMotor::speed </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>sp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Change the delay between each step. </p>
<p>This function can be used to change the speed during an operation of forward or backward. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sp</td><td>the delay in microseconds. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="class_s_motor.html#ae266c2af254d76012b8132bb7641628d" title="Configure the motor to move forward. ">forward(uint32_t, uint32_t)</a>, <a class="el" href="class_s_motor.html#a9d666d613dffcc324e0ae6e1e0a31a3f" title="Configure the motor to move backward. ">backward(uint32_t, uint32_t)</a> </dd></dl>

</div>
</div>
<a class="anchor" id="afc966d69cfe8f90a0c640e1e24f7b2c6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SMotor::stop </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop any motion. </p>

</div>
</div>
<a class="anchor" id="a4aee8957f93b071ea7772e5d2c766500"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t SMotor::update </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform the motion of the motor. </p>
<p>The function performs effectively the motor motion. It verifies that the specified delay from the last step is expired and than moves the motor of one step. The function must be call in the main loop with a frequency greater than 1/(delay*1000000). Greater is the frequency to call the function and higher is the precision of the the motion. </p><dl class="section return"><dt>Returns</dt><dd>the function number of steps made, up to the end of the motion. If the motion end the motor is idle and it can perform a new command. When the motor is idle the function returns -1. </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="ad5bca9af6abc32a4c501ab8791c9b044"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int8_t SMotor::dir</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Specifi the direction of the motor: -1 backward, 1 forward, 0 all pin out LOW. </p>

</div>
</div>
<a class="anchor" id="a91a0e1b7858e925219aef3f01581a6df"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boolean SMotor::full_step</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>True if the class uses a full step control, false if it is half step control. </p>

</div>
</div>
<a class="anchor" id="a387fdb2f979f0a98629f60e6d39e88eb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boolean SMotor::m_ready</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>True if the motor is ready to take a new command: <a class="el" href="class_s_motor.html#ae266c2af254d76012b8132bb7641628d" title="Configure the motor to move forward. ">forward()</a> or <a class="el" href="class_s_motor.html#a9d666d613dffcc324e0ae6e1e0a31a3f" title="Configure the motor to move backward. ">backward()</a>. </p>

</div>
</div>
<a class="anchor" id="ae1327bd40d192a2fd84ab885a2b197bb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t SMotor::old_time</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The time value in microseconds setted during the last step. </p>

</div>
</div>
<a class="anchor" id="a2c60b5c8fe692572070fdc95c6b4b51e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t SMotor::p1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a305bd59966c6596b977c2897cf6f3ee1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t SMotor::p2</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a2ed385362a1d5701bb4f1a922838c986"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t SMotor::p3</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a9eeaaa8a47f74a6f2972650afa76d02f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t SMotor::p4</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pins where is mapped the coils of the unipolar motor. </p>

</div>
</div>
<a class="anchor" id="a994ea15ba154ccf166cdfefebae493bd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int8_t SMotor::pos</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A value among 0, 1, 2, 3 if the full step control is active, otherwise the value is one among 0, 1, 2, 3, ,4 ,5 ,6 7. </p>

</div>
</div>
<a class="anchor" id="a882d15d35626b66d6bb31a09c17b75b6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t SMotor::spd</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The delay between two steps in microseconds. </p>

</div>
</div>
<a class="anchor" id="a894a18a9c90ea2160d5790934491f346"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t SMotor::steps</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The number of steps until the motion ends. </p>

</div>
</div>
<a class="anchor" id="acba02a638986e8e3e44302d824941692"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t SMotor::tot_steps</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The total steps setted by <a class="el" href="class_s_motor.html#ae266c2af254d76012b8132bb7641628d" title="Configure the motor to move forward. ">forward()</a> and <a class="el" href="class_s_motor.html#a9d666d613dffcc324e0ae6e1e0a31a3f" title="Configure the motor to move backward. ">backward()</a>. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_s_motor_8h_source.html">SMotor.h</a></li>
<li><a class="el" href="_s_motor_8cpp.html">SMotor.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Jul 16 2014 14:50:36 for Easy CNC by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.7
</small></address>
</body>
</html>
